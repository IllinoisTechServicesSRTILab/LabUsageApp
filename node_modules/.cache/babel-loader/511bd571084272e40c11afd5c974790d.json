{"ast":null,"code":"import _slicedToArray from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/divyabhati/labusage/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Chart from './components/Chart';\nimport LabForm from './components/LabForm';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Button from 'react-bootstrap/Button';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      ics: [],\n      ews: [],\n      isLoaded: false,\n      stackedICSData: {},\n      stackedEWSData: {},\n      currLab: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n      var url = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ics\";\n      var url2 = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ews\";\n      Promise.all([fetch(proxyurl + url), fetch(proxyurl + url2)]).then(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            res1 = _ref2[0],\n            res2 = _ref2[1];\n\n        return Promise.all([res1.json(), res2.json()]);\n      }).then(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            data1 = _ref4[0],\n            data2 = _ref4[1];\n\n        var ics_actives = [];\n        var ics_availables = [];\n        var ics_names = [];\n        data1.map(function (item) {\n          return ics_actives.push(item[\"usage_active\"]), ics_availables.push(item[\"usage_total\"] - item[\"usage_active\"]), ics_names.push(item[\"site_displayname\"]);\n        });\n        var ews_actives = [];\n        var ews_availables = [];\n        var ews_names = [];\n        data2.map(function (item) {\n          return ews_actives.push(item[\"inusecount\"]), ews_availables.push(item[\"machinecount\"] - item[\"inusecount\"]), ews_names.push(item[\"strlabname\"]);\n        });\n\n        _this2.setState({\n          isLoaded: true,\n          ics: data1,\n          ews: data2,\n          stackedICSData: {\n            labels: ics_names,\n            datasets: [{\n              label: 'In Use',\n              data: ics_actives,\n              backgroundColor: 'rgba(200, 100, 100, .6)'\n            }, {\n              label: 'Available',\n              data: ics_availables,\n              backgroundColor: 'rgba(100, 200, 100, .6)'\n            }]\n          },\n          stackedEWSData: {\n            labels: ews_names,\n            datasets: [{\n              label: 'In Use',\n              data: ews_actives,\n              backgroundColor: 'rgba(200, 100, 100, .6)'\n            }, {\n              label: 'Available',\n              data: ews_availables,\n              backgroundColor: 'rgba(100, 200, 100, .6)'\n            }]\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          ics = _this$state.ics,\n          ews = _this$state.ews,\n          isLoaded = _this$state.isLoaded,\n          stackedICSData = _this$state.stackedICSData,\n          stackedEWSData = _this$state.stackedEWSData,\n          test = _this$state.test;\n      var stackedOptions = {\n        scales: {\n          xAxes: [{\n            stacked: true,\n            ticks: {\n              autoSkip: false\n            }\n          }],\n          yAxes: [{\n            stacked: true\n          }]\n        }\n      };\n\n      if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, \"Loading data...\", React.createElement(\"img\", {\n          src: \"https://srtilab.techservices.illinois.edu/wp-content/uploads/elementor/thumbs/Jarrett-Headshot-o4fkvjmsystpckutr7vnjy6wkzb5noe3po1ioi815c.jpg\",\n          alt: \"SRTI Student\",\n          width: \"1000\",\n          height: \"1000\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(Navbar, {\n          bg: \"dark\",\n          variant: \"dark\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(Navbar.Brand, {\n          href: \"#home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \"Lab Usage Data\"), React.createElement(Nav, {\n          className: \"mr-auto\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(Nav.Link, {\n          href: \"https://techservices.illinois.edu/content/computer-lab-locations-and-hours\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, \"ICS\"), React.createElement(Nav.Link, {\n          href: \"https://it.engineering.illinois.edu/ews\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, \"EWS\"), React.createElement(Nav.Link, {\n          href: \"https://srtilab.techservices.illinois.edu/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, \"SRTI\"))), React.createElement(\"div\", {\n          class: \"chart_title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, \"ICS (Instructional Computing Services)\"), React.createElement(\"div\", {\n          class: \"chart_container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(Chart, {\n          chartData: this.state.stackedICSData,\n          chartOptions: stackedOptions,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"chart_title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"EWS (Engineering Workstations)\"), React.createElement(\"div\", {\n          class: \"chart_container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(Chart, {\n          chartData: this.state.stackedEWSData,\n          chartOptions: stackedOptions,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        })), React.createElement(LabForm, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/divyabhati/labusage/src/App.js"],"names":["React","Component","Chart","LabForm","Navbar","Nav","Button","App","props","state","ics","ews","isLoaded","stackedICSData","stackedEWSData","currLab","proxyurl","url","url2","Promise","all","fetch","then","res1","res2","json","data1","data2","ics_actives","ics_availables","ics_names","map","item","push","ews_actives","ews_availables","ews_names","setState","labels","datasets","label","data","backgroundColor","test","stackedOptions","scales","xAxes","stacked","ticks","autoSkip","yAxes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Chart from './components/Chart';\nimport LabForm from './components/LabForm';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Button from 'react-bootstrap/Button';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      ics: [],\n      ews: [],\n      isLoaded: false,\n      stackedICSData:{},\n      stackedEWSData:{},\n      currLab:\"\"\n    }\n  }\n\n  componentDidMount() {\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const url = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ics\";\n    const url2 = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ews\";\n    Promise.all([fetch(proxyurl + url), fetch(proxyurl + url2)])\n      .then(([res1, res2]) => Promise.all([res1.json(), res2.json()]))\n      .then(([data1, data2]) => {\n        var ics_actives = [];\n        var ics_availables = [];\n        var ics_names = [];\n        data1.map(item => (\n          ics_actives.push(item[\"usage_active\"]),\n          ics_availables.push(item[\"usage_total\"] - item[\"usage_active\"]),\n          ics_names.push(item[\"site_displayname\"])\n        ));\n        var ews_actives = [];\n        var ews_availables = [];\n        var ews_names = [];\n        data2.map(item => (\n          ews_actives.push(item[\"inusecount\"]),\n          ews_availables.push(item[\"machinecount\"] - item[\"inusecount\"]),\n          ews_names.push(item[\"strlabname\"])\n        ));\n        this.setState({\n          isLoaded: true,\n          ics: data1,\n          ews: data2,\n          stackedICSData: {\n            labels: ics_names,\n            datasets: [\n              {\n                label:'In Use',\n                data: ics_actives,\n                backgroundColor: 'rgba(200, 100, 100, .6)'\n              },\n              {\n                label:'Available',\n                data: ics_availables,\n                backgroundColor: 'rgba(100, 200, 100, .6)'\n              }\n            ],\n          },\n          stackedEWSData: {\n            labels: ews_names,\n            datasets: [\n              {\n                label:'In Use',\n                data: ews_actives,\n                backgroundColor: 'rgba(200, 100, 100, .6)'\n              },\n              {\n                label:'Available',\n                data: ews_availables,\n                backgroundColor: 'rgba(100, 200, 100, .6)'\n              }\n            ],\n          }\n        })\n      });\n  }\n\n  render() {\n\n    var { ics, ews, isLoaded, stackedICSData, stackedEWSData, test } = this.state;\n    var stackedOptions = {\n      scales: {\n        xAxes: [{\n          stacked: true ,\n          ticks: {\n            autoSkip: false\n          }\n        }],\n        yAxes: [{ stacked: true }]\n      },\n    };\n    if (!isLoaded) {\n      return <div>\n        Loading data...\n        <img src=\"https://srtilab.techservices.illinois.edu/wp-content/uploads/elementor/thumbs/Jarrett-Headshot-o4fkvjmsystpckutr7vnjy6wkzb5noe3po1ioi815c.jpg\" alt=\"SRTI Student\" width=\"1000\" height=\"1000\"/>\n      </div>;\n    } else {\n      return (\n        <div className=\"App\">\n          <Navbar bg=\"dark\" variant=\"dark\">\n            <Navbar.Brand href=\"#home\">Lab Usage Data</Navbar.Brand>\n            <Nav className=\"mr-auto\">\n              <Nav.Link href=\"https://techservices.illinois.edu/content/computer-lab-locations-and-hours\">ICS</Nav.Link>\n              <Nav.Link href=\"https://it.engineering.illinois.edu/ews\">EWS</Nav.Link>\n              <Nav.Link href=\"https://srtilab.techservices.illinois.edu/\">SRTI</Nav.Link>\n            </Nav>\n          </Navbar>\n          <div class=\"chart_title\">ICS (Instructional Computing Services)</div>\n          <div class=\"chart_container\">\n            <Chart chartData={this.state.stackedICSData} chartOptions={stackedOptions} />\n          </div>\n          <div class=\"chart_title\">EWS (Engineering Workstations)</div>\n          <div class=\"chart_container\">\n            <Chart chartData={this.state.stackedEWSData} chartOptions={stackedOptions} />\n          </div>\n          <LabForm />\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}