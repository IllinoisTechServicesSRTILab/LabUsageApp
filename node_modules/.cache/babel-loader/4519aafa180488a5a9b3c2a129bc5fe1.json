{"ast":null,"code":"import _classCallCheck from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/divyabhati/labusage/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Chart from './components/Chart';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      items: [],\n      isLoaded: false,\n      stackedData: {},\n      test: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n      var url = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ics\";\n      fetch(proxyurl + url).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        var usages = json.map(function (obj) {\n          var key = Object.keys(obj).sort()[\"usage_active\"],\n              rtn = {};\n          return rtn[key] = obj[key], rtn;\n        });\n\n        _this2.setState({\n          isLoaded: true,\n          items: json,\n          test: json[0][\"usage_active\"],\n          stackedData: {\n            labels: ['test1', 'test2', 'test3', 'test4', 'test5'],\n            datasets: [{\n              label: 'In Use',\n              data: [json[0][\"usage_active\"]],\n              backgroundColor: 'rgba(200, 100, 100, .6)'\n            }, {\n              label: 'Available',\n              data: [json[0][\"usage_total\"] - json[0][\"usage_active\"]],\n              backgroundColor: 'rgba(100, 200, 100, .6)'\n            }]\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          isLoaded = _this$state.isLoaded,\n          items = _this$state.items;\n\n      if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, \"Loading data...\");\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, items.map(function (item) {\n          return React.createElement(\"li\", {\n            key: item.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, item[\"site_displayname\"], \" currently has \", item[\"usage_total\"] - item[\"usage_active\"], \" out of its total \", item[\"usage_total\"], \" computers available!\");\n        }), \";\"), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \" \", this.state.test, \" \"), React.createElement(Chart, {\n          chartData: this.state.stackedData,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/divyabhati/labusage/src/App.js"],"names":["React","Component","Chart","App","props","state","items","isLoaded","stackedData","test","proxyurl","url","fetch","then","res","json","usages","map","obj","key","Object","keys","sort","rtn","setState","labels","datasets","label","data","backgroundColor","item","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Chart from './components/Chart';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      isLoaded: false,\n      stackedData:{},\n      test:\"\"\n    }\n  }\n\n  componentDidMount() {\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const url = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ics\";\n    fetch(proxyurl + url)\n      .then(res => res.json())\n      .then(json => {\n        var usages = json.map(function(obj){\n          var key = Object.keys(obj).sort()[\"usage_active\"], rtn = {};\n          return rtn[key] = obj[key], rtn;\n        });\n        this.setState({\n          isLoaded: true,\n          items: json,\n          test:json[0][\"usage_active\"],\n          stackedData: {\n            labels: ['test1', 'test2', 'test3', 'test4', 'test5'],\n            datasets: [\n              {\n                label:'In Use',\n                data: [json[0][\"usage_active\"]],\n                backgroundColor: 'rgba(200, 100, 100, .6)'\n              },\n              {\n                label:'Available',\n                data: [json[0][\"usage_total\"] - json[0][\"usage_active\"]],\n                backgroundColor: 'rgba(100, 200, 100, .6)'\n              }\n            ],\n          }\n        })\n      });\n  }\n\n  render() {\n\n    var { isLoaded, items } = this.state;\n\n    if (!isLoaded) {\n      return <div>Loading data...</div>;\n    } else {\n      return (\n        <div className=\"App\">\n          <div class=\"info\">\n              {items.map(item => (\n                <li key={item.id}>\n                  {item[\"site_displayname\"]} currently has {item[\"usage_total\"] - item[\"usage_active\"]} out of its\n                  total {item[\"usage_total\"]} computers available!\n                </li>\n              ))};\n          </div>\n          <div> {this.state.test} </div>\n          <Chart chartData={this.state.stackedData} />\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}