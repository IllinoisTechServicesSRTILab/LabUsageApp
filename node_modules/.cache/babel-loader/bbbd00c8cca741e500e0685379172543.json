{"ast":null,"code":"import _classCallCheck from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/divyabhati/labusage/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Chart from './components/Chart';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      ics: [],\n      ews: [],\n      isLoaded: false,\n      stackedICSData: {},\n      stackedEWSData: {},\n      test: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n      var url = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ics\";\n      var url2 = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ews\";\n      fetch(proxyurl + url).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        var actives = [];\n        var availables = [];\n        var names = [];\n        json.map(function (item) {\n          return actives.push(item[\"usage_active\"]), availables.push(item[\"usage_total\"] - item[\"usage_active\"]), names.push(item[\"site_displayname\"]);\n        });\n\n        _this2.setState({\n          isLoaded: true,\n          ics: json,\n          test: json[0][\"usage_active\"],\n          stackedICSData: {\n            labels: names,\n            datasets: [{\n              label: 'In Use',\n              data: actives,\n              backgroundColor: 'rgba(200, 100, 100, .6)'\n            }, {\n              label: 'Available',\n              data: availables,\n              backgroundColor: 'rgba(100, 200, 100, .6)'\n            }]\n          }\n        });\n      });\n      fetch(proxyurl + url2).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        var actives = [];\n        var availables = [];\n        var names = [];\n        json.map(function (item) {\n          return actives.push(item[\"inusecount\"]), availables.push(item[\"machinecount\"] - item[\"inusecount\"]), names.push(item[\"strlabname\"]);\n        });\n\n        _this2.setState({\n          ews: json,\n          stackedEWSData: {\n            labels: names,\n            datasets: [{\n              label: 'In Use',\n              data: actives,\n              backgroundColor: 'rgba(200, 100, 100, .6)'\n            }, {\n              label: 'Available',\n              data: availables,\n              backgroundColor: 'rgba(100, 200, 100, .6)'\n            }]\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          ics = _this$state.ics,\n          ews = _this$state.ews,\n          isLoaded = _this$state.isLoaded,\n          stackedICSData = _this$state.stackedICSData,\n          stackedEWSData = _this$state.stackedEWSData,\n          test = _this$state.test;\n      var stackedOptions = {\n        scales: {\n          xAxes: [{\n            stacked: true,\n            ticks: {\n              autoSkip: false\n            }\n          }],\n          yAxes: [{\n            stacked: true\n          }]\n        }\n      };\n\n      if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"Loading data...\");\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, ics.map(function (item) {\n          return React.createElement(\"li\", {\n            key: item.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, item[\"site_displayname\"], \" currently has \", item[\"usage_total\"] - item[\"usage_active\"], \" out of its total \", item[\"usage_total\"], \" computers available!\");\n        }), \";\"), React.createElement(\"div\", {\n          class: \"info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, ews.map(function (item) {\n          return React.createElement(\"li\", {\n            key: item.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, item[\"strlaname\"], \" currently has \", item[\"machinecount\"] - item[\"inusecount\"], \" out of its total \", item[\"machinecount\"], \" computers available!\");\n        }), \";\"), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, \" \", this.state.test, \" \"), React.createElement(Chart, {\n          chartData: this.state.stackedICSData,\n          chartOptions: stackedOptions,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }), React.createElement(Chart, {\n          chartData: this.state.stackedEWSData,\n          chartOptions: stackedOptions,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/divyabhati/labusage/src/App.js"],"names":["React","Component","Chart","App","props","state","ics","ews","isLoaded","stackedICSData","stackedEWSData","test","proxyurl","url","url2","fetch","then","res","json","actives","availables","names","map","item","push","setState","labels","datasets","label","data","backgroundColor","stackedOptions","scales","xAxes","stacked","ticks","autoSkip","yAxes","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Chart from './components/Chart';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      ics: [],\n      ews: [],\n      isLoaded: false,\n      stackedICSData:{},\n      stackedEWSData:{},\n      test:\"\"\n    }\n  }\n\n  componentDidMount() {\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const url = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ics\";\n    const url2 = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ews\";\n    fetch(proxyurl + url)\n      .then(res => res.json())\n      .then(json => {\n        var actives = [];\n        var availables = [];\n        var names = [];\n        json.map(item => (\n          actives.push(item[\"usage_active\"]),\n          availables.push(item[\"usage_total\"] - item[\"usage_active\"]),\n          names.push(item[\"site_displayname\"])\n        ));\n        this.setState({\n          isLoaded: true,\n          ics: json,\n          test:json[0][\"usage_active\"],\n          stackedICSData: {\n            labels: names,\n            datasets: [\n              {\n                label:'In Use',\n                data: actives,\n                backgroundColor: 'rgba(200, 100, 100, .6)'\n              },\n              {\n                label:'Available',\n                data: availables,\n                backgroundColor: 'rgba(100, 200, 100, .6)'\n              }\n            ],\n          }\n        })\n      });\n      fetch(proxyurl + url2)\n        .then(res => res.json())\n        .then(json => {\n          var actives = [];\n          var availables = [];\n          var names = [];\n          json.map(item => (\n            actives.push(item[\"inusecount\"]),\n            availables.push(item[\"machinecount\"] - item[\"inusecount\"]),\n            names.push(item[\"strlabname\"])\n          ));\n          this.setState({\n            ews: json,\n            stackedEWSData:{\n                labels: names,\n                datasets: [\n                  {\n                    label:'In Use',\n                    data: actives,\n                    backgroundColor: 'rgba(200, 100, 100, .6)'\n                  },\n                  {\n                    label:'Available',\n                    data: availables,\n                    backgroundColor: 'rgba(100, 200, 100, .6)'\n                  }\n                ],\n              }\n          });\n        });\n  }\n\n  render() {\n\n    var { ics, ews, isLoaded, stackedICSData, stackedEWSData, test } = this.state;\n    var stackedOptions = {\n      scales: {\n        xAxes: [{\n          stacked: true ,\n          ticks: {\n            autoSkip: false\n          }\n        }],\n        yAxes: [{ stacked: true }]\n      },\n    };\n    if (!isLoaded) {\n      return <div>Loading data...</div>;\n    } else {\n      return (\n        <div className=\"App\">\n          <div class=\"info\">\n              {ics.map(item => (\n                <li key={item.id}>\n                  {item[\"site_displayname\"]} currently has {item[\"usage_total\"] - item[\"usage_active\"]} out of its\n                  total {item[\"usage_total\"]} computers available!\n                </li>\n              ))};\n          </div>\n          <div class=\"info\">\n              {ews.map(item => (\n                <li key={item.id}>\n                  {item[\"strlaname\"]} currently has {item[\"machinecount\"] - item[\"inusecount\"]} out of its\n                  total {item[\"machinecount\"]} computers available!\n                </li>\n              ))};\n          </div>\n          <div> {this.state.test} </div>\n          <Chart chartData={this.state.stackedICSData} chartOptions={stackedOptions} />\n          <Chart chartData={this.state.stackedEWSData} chartOptions={stackedOptions} />\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}