{"ast":null,"code":"import _classCallCheck from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/divyabhati/labusage/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/divyabhati/labusage/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Chart from './components/Chart';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      ics: [],\n      isLoaded: false,\n      stackedData: {},\n      test: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n      var url = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ics\";\n      var url2 = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ews\";\n      fetch(proxyurl + url).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        var actives = [];\n        var availables = [];\n        var names = [];\n        json.map(function (item) {\n          return actives.push(item[\"usage_active\"]), availables.push(item[\"usage_total\"] - item[\"usage_active\"]), names.push(item[\"site_displayname\"]);\n        });\n\n        _this2.setState({\n          isLoaded: true,\n          items: json,\n          test: json[0][\"usage_active\"],\n          stackedData: {\n            labels: names,\n            datasets: [{\n              label: 'In Use',\n              data: actives,\n              backgroundColor: 'rgba(200, 100, 100, .6)'\n            }, {\n              label: 'Available',\n              data: availables,\n              backgroundColor: 'rgba(100, 200, 100, .6)'\n            }]\n          }\n        });\n      });\n      fetch(proxyurl + url2).then(function (res) {\n        return res.json();\n      }).then(function (json) {});\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          isLoaded = _this$state.isLoaded,\n          items = _this$state.items;\n      var stackedOptions = {\n        scales: {\n          xAxes: [{\n            stacked: true,\n            ticks: {\n              autoSkip: false\n            }\n          }],\n          yAxes: [{\n            stacked: true\n          }]\n        }\n      };\n\n      if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \"Loading data...\");\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, items.map(function (item) {\n          return React.createElement(\"li\", {\n            key: item.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, item[\"site_displayname\"], \" currently has \", item[\"usage_total\"] - item[\"usage_active\"], \" out of its total \", item[\"usage_total\"], \" computers available!\");\n        }), \";\"), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, \" \", this.state.test, \" \"), React.createElement(Chart, {\n          chartData: this.state.stackedData,\n          chartOptions: stackedOptions,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/divyabhati/labusage/src/App.js"],"names":["React","Component","Chart","App","props","state","ics","isLoaded","stackedData","test","proxyurl","url","url2","fetch","then","res","json","actives","availables","names","map","item","push","setState","items","labels","datasets","label","data","backgroundColor","stackedOptions","scales","xAxes","stacked","ticks","autoSkip","yAxes","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Chart from './components/Chart';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      ics: [],\n      isLoaded: false,\n      stackedData:{},\n      test:\"\"\n    }\n  }\n\n  componentDidMount() {\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const url = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ics\";\n    const url2 = \"https://69smoo2dc6.execute-api.us-east-1.amazonaws.com/api/ews\";\n    fetch(proxyurl + url)\n      .then(res => res.json())\n      .then(json => {\n        var actives = [];\n        var availables = [];\n        var names = [];\n        json.map(item => (\n          actives.push(item[\"usage_active\"]),\n          availables.push(item[\"usage_total\"] - item[\"usage_active\"]),\n          names.push(item[\"site_displayname\"])\n        ));\n        this.setState({\n          isLoaded: true,\n          items: json,\n          test:json[0][\"usage_active\"],\n          stackedData: {\n            labels: names,\n            datasets: [\n              {\n                label:'In Use',\n                data: actives,\n                backgroundColor: 'rgba(200, 100, 100, .6)'\n              },\n              {\n                label:'Available',\n                data: availables,\n                backgroundColor: 'rgba(100, 200, 100, .6)'\n              }\n            ],\n          }\n        })\n      });\n      fetch(proxyurl + url2)\n        .then(res => res.json())\n        .then(json => {\n\n        });\n  }\n\n  render() {\n\n    var { isLoaded, items } = this.state;\n    var stackedOptions = {\n      scales: {\n        xAxes: [{\n          stacked: true ,\n          ticks: {\n            autoSkip: false\n          }\n        }],\n        yAxes: [{ stacked: true }]\n      },\n    };\n    if (!isLoaded) {\n      return <div>Loading data...</div>;\n    } else {\n      return (\n        <div className=\"App\">\n          <div class=\"info\">\n              {items.map(item => (\n                <li key={item.id}>\n                  {item[\"site_displayname\"]} currently has {item[\"usage_total\"] - item[\"usage_active\"]} out of its\n                  total {item[\"usage_total\"]} computers available!\n                </li>\n              ))};\n          </div>\n          <div> {this.state.test} </div>\n          <Chart chartData={this.state.stackedData} chartOptions={stackedOptions} />\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}